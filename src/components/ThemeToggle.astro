---
import IconSun from '~icons/lucide/sun';
import IconMoon from '~icons/lucide/moon';
---

<button id="themeToggle" class="hover:text-gray-12">
	<span class="sr-only">Toggle theme</span>
	<IconMoon aria-hidden="true" class="size-6 sm:size-7 block dark:hidden" />
	<IconSun aria-hidden="true" class="size-6 sm:size-7 hidden dark:block" />
</button>

<script is:inline>
	const handleToggleClick = () => {
		const el = document.documentElement;
		el.classList.toggle('dark');

		const isDark = el.classList.contains('dark');
		localStorage.setItem('theme', isDark ? 'dark' : 'light');
	};

	document.getElementById('themeToggle').addEventListener('click', handleToggleClick);
</script>
